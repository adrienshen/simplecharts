!function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(){var e=$("#datasets .form-control");$.each(e,function(e,t){var a=t.value.split(",");a.length>B&&(B=a.length)}),D=defaultLabels.slice(0,B)}function a(e,t){var a=z[""+e];$(".error-message"+t).text(a).removeClass("hidden"),console.log("yes!")}function o(){$(".error-message1").addClass("hidden"),$(".error-message2").addClass("hidden")}function n(e){var t=$(".type-title");t.html(e)}function l(){s(),h(),i(),r()}function i(){T=new Chart(L).Line(U,K)}function r(){I.on("click",g),$("#submit-data2").on("click",g),Z.on("click",k),j.on("click",C),$("span.chart-type").on("click",c),$("select#mobile-nav").on("change",d),$("#add-slice").on("click",v),$("#rm-slice").on("click",b)}function s(){$("<select />",{id:"mobile-nav"}).prependTo("#type-select"),$("span.chart-type a").each(function(){var e=$(this);$("<option />",{value:e.attr("href"),text:e.text()}).appendTo("#type-select select")})}function c(e,t){e.preventDefault();var a=$(this),o=$(window).width();if(o>600){console.log(A.width());var l=a.attr("data-type").toString()}if("line"===l||"bar"===l||"radar"===l||"Line"===t||"Bar"===t||"Radar"===t)H.addClass("type-hidden"),F.removeClass("type-hidden");else{H.removeClass("type-hidden"),F.addClass("type-hidden");for(var i=U.datasets.length-2,r=i;r>0;--r)C()}$("div#switch-options").empty(),"line"===l||"Line"===t?(n("Line Graph"),R=[{optionName:"scaleShowGridLines",optionText:"gridlines",checked:!0},{optionName:"bezierCurve",optionText:"bezier curves",checked:!0},{optionName:"datasetFill",optionText:"color fill",checked:!0},{optionName:"pointDot",optionText:"grid dots",checked:!0}],p()):"bar"===l||"Bar"===t?(n("Bar Graph"),R=[{optionName:"scaleShowGridLines",optionText:"gridlines",checked:!0},{optionName:"scaleBeginAtZero",optionText:"scale zero",checked:!0}],p()):"radar"===l||"Radar"===t?(n("Radar Graph"),R=[{optionName:"scaleShowLine",optionText:"scale lines",checked:!0},{optionName:"angleShowLineOut",optionText:"angle lines",checked:!0},{optionName:"scaleShowLabels",optionText:"scale labels",checked:!0},{optionName:"pointDot",optionText:"dot points",checked:!0},{optionName:"datasetStroke",optionText:"dataset strokes",checked:!0},{optionName:"datasetFill",optionText:"dataset fill",checked:!0}],p()):"pie"===l||"Pie"===t||"donut"===l||"Doughnut"===t?(("pie"===l||"Pie"===t)&&n("Pie Graph"),("donut"===l||"Doughnut"===t)&&n("Doughnut Graph"),R=[{optionName:"segmentShowStroke",optionText:"segment stroke",checked:!0},{optionName:"animateRotate",optionText:"animate rotate",checked:!1},{optionName:"animateScale",optionText:"animate scale",checked:!1}],p()):(n("Polar Graph"),R=[{optionName:"scaleShowLabelBackdrop",optionText:"scale backdrop",checked:!0},{optionName:"scaleBeginAtZero",optionText:"scale zero",checked:!0},{optionName:"scaleShowLine",optionText:"scale line",checked:!0},{optionName:"segmentShowStroke",optionText:"segment stroke",checked:!0},{optionName:"animateRotate",optionText:"animate rotate",checked:!1},{optionName:"animateScale",optionText:"animate scale",checked:!1}],p()),P="polar"===l||"Polar"===t?"PolarArea":a.text().toString()||t}function d(){var e=$("select option:selected").text();c(e)}function p(){for(var e=0;e<R.length;++e)$("<input></input>").attr({"class":"switch",id:R[e].optionName,type:"checkbox"}).prop("checked",R[e].checked).appendTo(q),$("<label></label>").attr({"class":"switch","for":R[e].optionName}).text(R[e].optionText).appendTo(q)}function h(){$(".color-select").spectrum({showPaletteOnly:!0,showPalette:!0,color:"rgba(255, 255, 255, .5)",palette:[["rgba(57, 106, 177, 1)","rgba(218, 124, 48, 1)","rgba(62, 150, 81, 1)","rgba(204, 37, 41, 1)","rgba(83, 81, 84, 1)","rgba(107, 76, 154, 1)","rgba(146, 36, 40, 1)","rgba(148, 139, 61, 1)"],["rgba(102,194,165, 1)","rgba(252,141,98, 1)","rgba(141,160,203, 1)","rgba(231,138,195, 1)","rgb(166,216,84, 1)","rgba(255,217,47, 1)","rgba(229,196,148, 1)","rgba(179,179,179, 1)"]]}),$(".color-select").removeClass("color-select").addClass("color-initialize")}function g(){L.clearRect(0,0,N,S),T&&T.clear().destroy(),o(),t(),"Line"===P||"Bar"===P||"Radar"===P?u():f(),T=new Chart(L)[P](U,K),T=new Chart(L)[P](J,K)}function u(){console.log("setting chart type 1");var t=$("#typeview1 .color-initialize");$.each(t,function(e,t){var o=t.value;return""===o?void a("color",1):(U.datasets[e].strokeColor=o,U.datasets[e].pointColor=o,U.datasets[e].pointHighlightStroke=o,o="rgba"+o.slice(3,o.length-1)+", 0.2)",void(U.datasets[e].fillColor=o))});var o=E.val().split(",");if(console.log(o.length+" "+B),""===E.val()||0===o.length)U.labels=D;else{if(o.length<B&&0!==o.length)return void a("label",1);U.labels=o}var n=$("#datasets .form-control");$.each(n,function(t,o){var n=o.value.split(",").map(function(e){return parseInt(e,10)});n.forEach(function(t,o,n){if(!e(t))throw a("wrong",1),new Error("input format error!")}),U.datasets[t].data=n}),m()}function f(){console.log("setting chart type 2");var e=$(".data-slices");$.each(e,function(e,t){var o=$(t).find(".labels").val(),n=$(t).find(".slice-data").val(),l=$(t).find(".color-initialize").val().toString();return""===o||""===n?void a("empty",2):""===l?void a("color",2):(J[e].value=parseInt(n),J[e].color=l,J[e].highlight=l,void(J[e].label=o))}),m()}function m(){currentPageOptions=$("[type=checkbox]"),$.each(currentPageOptions,function(e,t){console.log(t.id),K[t.id]=t.checked,console.log(t.checked)})}function v(e){e.preventDefault();var t={value:0,color:"",highlight:"",label:""};if(J.length>12)return void console.log("limit reached");J.push(t),console.log(J.length);var a=$("<div>",{"class":"container data-slices col-6"}),o=$("<input>",{"class":"labels col-10",type:"text"}),n=$("<input>",{"class":"slice-data col-10",type:"number"}),l=$("<input>",{"class":"color-select color2"});a.append(o).append(n).append(l),$(".data-slices").last().after(a),h(),w()}function b(e){e.preventDefault(),J.length<2||(J.pop(),console.log(J.length),$(".data-slices").last().remove(),w())}function k(e){e.preventDefault();var t=U.datasets,a={label:"",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[]};if(!(t.length>=G.datasetsAllowed)){t.push(a);var o=$("<div>",{id:"","class":"container af"}),n=$("<input />",{id:"","class":"form-control added-inputs"}),l=$("<input>",{"class":"color-select color1"});o.append(n).append(l),O.append(o),h(),y()}}function C(e){e&&e.preventDefault();var t=U.datasets;if(!(t.length<=2)){t.pop();var a=$("#datasets div.container").last();a.remove(),y()}}function y(){var e=U.datasets;e.length>2&&e.length<9&&(j.removeClass("hidden"),Z.removeClass("hidden")),2===e.length&&j.addClass("hidden"),9===e.length&&Z.addClass("hidden")}function w(){var e=$("#rm-slice"),t=$("#add-slice"),a=J;a.length>2&&a.length<13&&(e.removeClass("hidden"),t.removeClass("hidden")),2===a.length&&e.addClass("hidden"),12===a.length&&t.addClass("hidden")}function x(){var e=document.getElementById("generated-chart"),t=new Image;t.src=e.toDataURL("image/png");var a=$('<a download="simplechart.png"></a>');a.attr("href",t.src),a.append(t),$("#graph-output").empty().append(a)}var T,N=800,S=500,L=document.getElementById("generated-chart").getContext("2d");defaultLabels=["a,","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"];var D,P="Line",B=0,G={Graph:"Radar",datasetsAllowed:9},R=[],z={empty:"sorry, the datafields can not be empty, you can remove them if not neccesary",wrong:"sorry, the datafields accept only numbers seperated by a single comma",label:"sorry, not enough labels for the datasets",color:"sorry, please set colors for each data set"};Chart.defaults.global.responsive=!1,Chart.defaults.global.onAnimationComplete=x;var F=$("#typeview1"),H=$("#typeview2"),A=$("window"),I=$("#submit-data"),E=($("#dataset1"),$("#dataset2"),$("#xlabels")),O=$("#datasets"),Z=$("#add-ds"),j=$("#rm-ds"),q=$("#switch-options"),U={labels:["label1","label2","label3","label4","label5","label6"],datasets:[{label:"",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#2ecc71",pointHighlightStroke:"rgba(220,220,220,1)",data:[]},{label:"",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#2ecc71",pointHighlightStroke:"rgba(151,187,205,1)",data:[]}]},J=[{value:0,color:"",highlight:"",label:""},{value:0,color:"",highlight:"",label:""}],K={};return l(),{}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ha2UtY2hhcnQuanMiXSwibmFtZXMiOlsiaXNOdW1iZXIiLCJuIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJwcmVwQXV0b0xhYmVscyIsImRjQXJyIiwiJCIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJpdGVtQXJyIiwidmFsdWUiLCJzcGxpdCIsImxlbmd0aCIsImxvbmdlc3RBcnIiLCJhdXRvTGFiZWxzIiwiZGVmYXVsdExhYmVscyIsInNsaWNlIiwicHJpbnRFcnJvck1lc3NhZ2VzIiwiZXJyb3IiLCJ2aWV3IiwiZXJyb3JUZXh0IiwiZXJyb3JNZXNzYWdlcyIsInRleHQiLCJyZW1vdmVDbGFzcyIsImNvbnNvbGUiLCJsb2ciLCJjbGVhckVycm9ycyIsImFkZENsYXNzIiwiY2hhbmdlVGl0bGUiLCJ0eXBlIiwiJHRpdGxlIiwiaHRtbCIsImFwcEluaXQiLCJtb2JpbGVOYXYiLCJjb2xvclNlbGVjdG9yIiwiaW5pdGlhbFJlbmRlciIsImV2ZW50QmluZGluZ3MiLCJuZXdDaGFydCIsIkNoYXJ0IiwiY3R4IiwiTGluZSIsInRlbXBsYXRlRGF0YSIsInRlbXBsYXRlT3B0aW9ucyIsIiRzdWJtaXREYXRhIiwib24iLCJyZW5kZXJPblN1Ym1pdCIsIiRhZGREYXRhQnRuIiwiYWRkRGF0YVNldCIsIiRybURhdGFCdG4iLCJyZW1vdmVEYXRhU2V0IiwiY2hhcnRUeXBlQ29udHJvbGxlciIsIm1vYmlsZUNoYXJ0Q3RybCIsImFkZFNsaWNlIiwicmVtb3ZlU2xpY2UiLCJpZCIsInByZXBlbmRUbyIsIiRlbCIsInRoaXMiLCJhdHRyIiwiYXBwZW5kVG8iLCJlIiwibXQiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvd1dpZHRoIiwid2luZG93Iiwid2lkdGgiLCIkd2luZG93IiwiJGNoYXJ0VHlwZUNsaWNrZWQiLCJ0b1N0cmluZyIsIiR2aWV3MiIsIiR2aWV3MSIsIm51bVNldHNBZGRlZCIsImRhdGFzZXRzIiwiaSIsImVtcHR5Iiwib3B0aW9uc0FyciIsIm9wdGlvbk5hbWUiLCJvcHRpb25UZXh0IiwiY2hlY2tlZCIsIndyaXRlT3B0aW9ucyIsImdyYXBodHlwZSIsIm1vYmlsZVR5cGUiLCJjbGFzcyIsInByb3AiLCIkb3B0aW9uc0NvbnRhaW5lciIsImZvciIsInNwZWN0cnVtIiwic2hvd1BhbGV0dGVPbmx5Iiwic2hvd1BhbGV0dGUiLCJjb2xvciIsInBhbGV0dGUiLCJjbGVhclJlY3QiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImNsZWFyIiwiZGVzdHJveSIsInNldENoYXJ0RGF0YSIsInNldENoYXJ0RGF0YTIiLCJ0ZW1wbGF0ZURhdGEyIiwiJHNlbGVjdGVkQ29sb3JzIiwidHRlbXAiLCJzdHJva2VDb2xvciIsInBvaW50Q29sb3IiLCJwb2ludEhpZ2hsaWdodFN0cm9rZSIsImZpbGxDb2xvciIsInhsYWJlbHNBcnIiLCIkeGxhYmVscyIsInZhbCIsImxhYmVscyIsImN1ckl0ZW0iLCJtYXAiLCJwYXJzZUludCIsImZvckVhY2giLCJlbCIsImFyciIsIkVycm9yIiwiZGF0YSIsInNldE9wdGlvbnMiLCIkc2xpY2VzIiwibGFiZWxWYWwiLCJmaW5kIiwiZGF0YVZhbCIsImNvbG9yVmFsIiwiaGlnaGxpZ2h0IiwibGFiZWwiLCJjdXJyZW50UGFnZU9wdGlvbnMiLCJldnQiLCJuZXdTbGljZSIsInB1c2giLCIkZGl2IiwiJGlucHV0TGFiZWwiLCIkaW5wdXREYXRhIiwiJGNvbG9yIiwiYXBwZW5kIiwibGFzdCIsImFmdGVyIiwiZGF0YUxpbmtzU3R5bGUyIiwicG9wIiwicmVtb3ZlIiwiZHNBcnIiLCJuZXdEUyIsInBvaW50U3Ryb2tlQ29sb3IiLCJwb2ludEhpZ2hsaWdodEZpbGwiLCJDb25maWdEZWZhdWx0cyIsImRhdGFzZXRzQWxsb3dlZCIsIiRkYXRhSW5wdXREaXYiLCIkZGF0YUlucHV0RWwiLCIkZGF0YUNvbG9yU2VsZWN0IiwiJGRhdGFzZXRzIiwiZGF0YUxpbmtzU3R5bGUiLCIkbGFzdERhdGFJbnB1dHMiLCJ0ZW1wcCIsIiRybVNsaWNlIiwiJGFkZFNsaWNlIiwiY2FudmFzVG9JbWFnZSIsImdyYXBoIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImltYWdlIiwiSW1hZ2UiLCJzcmMiLCJ0b0RhdGFVUkwiLCIkZG93bmxvYWQiLCJnZXRDb250ZXh0IiwiR3JhcGgiLCJ3cm9uZyIsImRlZmF1bHRzIiwiZ2xvYmFsIiwicmVzcG9uc2l2ZSIsIm9uQW5pbWF0aW9uQ29tcGxldGUiXSwibWFwcGluZ3MiOiJDQWVBLFdBcUdBLFFBQUFBLEdBQUFDLEdBQ0EsT0FBQUMsTUFBQUMsV0FBQUYsS0FBQUcsU0FBQUgsR0FJQSxRQUFBSSxLQUNBLEdBQUFDLEdBQUFDLEVBQUEsMEJBRUFBLEdBQUFDLEtBQUFGLEVBQUEsU0FBQUcsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRCxFQUFBRSxNQUFBQyxNQUFBLElBQ0FGLEdBQUFHLE9BQUFDLElBQ0FBLEVBQUFKLEVBQUFHLFVBS0FFLEVBQUFDLGNBQUFDLE1BQUEsRUFBQUgsR0FJQSxRQUFBSSxHQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFDLEVBQUEsR0FBQUgsRUFDQWIsR0FBQSxpQkFBQWMsR0FBQUcsS0FBQUYsR0FBQUcsWUFBQSxVQUFBQyxRQUFBQyxJQUFBLFFBR0EsUUFBQUMsS0FDQXJCLEVBQUEsbUJBQUFzQixTQUFBLFVBQ0F0QixFQUFBLG1CQUFBc0IsU0FBQSxVQUlBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQXpCLEVBQUEsY0FDQXlCLEdBQUFDLEtBQUFGLEdBU0EsUUFBQUcsS0FDQUMsSUFDQUMsSUFDQUMsSUFDQUMsSUFHQSxRQUFBRCxLQUNBRSxFQUFBLEdBQUFDLE9BQUFDLEdBQUFDLEtBQUFDLEVBQUFDLEdBR0EsUUFBQU4sS0FFQU8sRUFBQUMsR0FBQSxRQUFBQyxHQUNBeEMsRUFBQSxpQkFBQXVDLEdBQUEsUUFBQUMsR0FHQUMsRUFBQUYsR0FBQSxRQUFBRyxHQUNBQyxFQUFBSixHQUFBLFFBQUFLLEdBR0E1QyxFQUFBLG1CQUFBdUMsR0FBQSxRQUFB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LEdBQ0FwQixVQUFBLHdCQUNBSCxZQUFBLHNCQUNBQyxXQUFBLHNCQUNBdUMsaUJBQUEsT0FDQUMsbUJBQUEsVUFDQXZDLHFCQUFBLHNCQUNBYSxVQUdBUSxNQUFBLEdBQ0FwQixVQUFBLHdCQUNBSCxZQUFBLHNCQUNBQyxXQUFBLHNCQUNBdUMsaUJBQUEsT0FDQUMsbUJBQUEsVUFDQXZDLHFCQUFBLHNCQUNBYSxXQU9BbEIsSUFFQXhGLE1BQUEsRUFDQStFLE1BQUEsR0FDQWtDLFVBQUEsR0FDQUMsTUFBQSxLQUdBbEgsTUFBQSxFQUNBK0UsTUFBQSxHQUNBa0MsVUFBQSxHQUNBQyxNQUFBLEtBS0FsRixJQThnQkEsT0FGQVYiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogIEdvYWxzIHRvZGF5XG5cbk1ham9yIHRoaW5ncyBsZWZ0IHRvIGRvOlxuICA0LiBBcHAgY29tcGxldGUgLSBjaGVjayBmb3IgZXJyb3JzXG5cblxuVGhpbmdzIGJlaW5nIGNvbXBsZXRlZCB0b2RheTpcbmdpdDogMTAvMTAvMTVcblxuXG5cbiovXG5cbi8vbW9kdWxhciBwYXR0ZXJuIHVzaW5nIGEgc2lmIHJldmVhbGluZyBwdWJsaWMgbWV0aG9kcyB0byB0aGUgZ2xvYmFsIHNjb3BlXG4gIC8vXG4oZnVuY3Rpb24oKSB7XG4gIC8vYXNzaWduaW5nIHNvbWUgdXNlZnVsIHZhcmlhYmxlc1xuXHR2YXIgY2FudmFzV2lkdGggPSA4MDAsIGNhbnZhc0hlaWdodCA9IDUwMDtcblx0dmFyIGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZW5lcmF0ZWQtY2hhcnQnKS5nZXRDb250ZXh0KCcyZCcpO1xuXHR2YXIgbmV3Q2hhcnQsIGRhdGE7XG5cbiAgLyogUmVnZXggUGF0dGVybnMgKi9cbiAgdmFyIGRzUGF0dGVybiA9IC8oXFxkKygsKSpcXHMqKSsvZ2k7XG4gIGRlZmF1bHRMYWJlbHMgPSBbJ2EsJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZicsICdnJywgJ2gnLCAnaScsICdqJywgJ2snLCAnbCcsICdtJywgJ24nLCAnbycsICdwJywgJ3EnLCAncicsICdzJywgJ3QnLCAndScsICd2JywgJ3gnLCAneScsICd6J107XG4gIHZhciBhdXRvTGFiZWxzO1xuXG4gIHZhciBncmFwaHR5cGUgPSAnTGluZSc7IC8vIHRoZSBkZWZhdWx0IGdyYXBoIHR5cGVcbiAgdmFyIGxvbmdlc3RBcnIgPSAwO1xuXG4gIHZhciBDb25maWdEZWZhdWx0cyA9IHtcbiAgICBHcmFwaDogJ1JhZGFyJyxcbiAgICBkYXRhc2V0c0FsbG93ZWQ6IDlcbiAgICAvLy4uLlxuICB9O1xuXG4gIHZhciBvcHRpb25zQXJyID0gW107XG5cbiAgdmFyIGVycm9yTWVzc2FnZXMgPSB7XG4gICAgZW1wdHk6ICdzb3JyeSwgdGhlIGRhdGFmaWVsZHMgY2FuIG5vdCBiZSBlbXB0eSwgeW91IGNhbiByZW1vdmUgdGhlbSBpZiBub3QgbmVjY2VzYXJ5JyxcbiAgICB3cm9uZzogJ3NvcnJ5LCB0aGUgZGF0YWZpZWxkcyBhY2NlcHQgb25seSBudW1iZXJzIHNlcGVyYXRlZCBieSBhIHNpbmdsZSBjb21tYScsXG4gICAgbGFiZWw6ICdzb3JyeSwgbm90IGVub3VnaCBsYWJlbHMgZm9yIHRoZSBkYXRhc2V0cycsXG4gICAgY29sb3I6ICdzb3JyeSwgcGxlYXNlIHNldCBjb2xvcnMgZm9yIGVhY2ggZGF0YSBzZXQnXG4gIH07XG5cbiAgLy9zZXR0aW5nIGNoYXJ0IGdsb2JhbCBkZWZhdWx0IG9wdGlvbnNcbiAgQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLnJlc3BvbnNpdmU9IGZhbHNlO1xuICBDaGFydC5kZWZhdWx0cy5nbG9iYWwub25BbmltYXRpb25Db21wbGV0ZT0gY2FudmFzVG9JbWFnZTtcbiAgLy9cblxuICAvL2NhY2hlIEpRdWVyeSBET00gZWxlbWVudHNcbiAgdmFyICR2aWV3MSAgICAgID0gJCgnI3R5cGV2aWV3MScpLFxuICAgICAgJHZpZXcyICAgICAgPSAkKCcjdHlwZXZpZXcyJyk7XG5cbiAgdmFyICR3aW5kb3cgICAgID0gJCgnd2luZG93JyksXG4gICAgICAkc3VibWl0RGF0YSA9ICQoJyNzdWJtaXQtZGF0YScpLFxuICAgICAgJGRhdGFTZXQxICAgPSAkKCcjZGF0YXNldDEnKSxcbiAgICAgICRkYXRhU2V0MiAgID0gJCgnI2RhdGFzZXQyJyksXG4gICAgICAkeGxhYmVscyAgICA9ICQoJyN4bGFiZWxzJyksXG4gICAgICAkZGF0YXNldHMgICA9ICQoJyNkYXRhc2V0cycpO1xuICAvL2FkZCwgcmVtb3ZlIGRhdGFzZXQgbGlua3NcbiAgdmFyICRhZGREYXRhQnRuID0gJCgnI2FkZC1kcycpO1xuXHR2YXIgJHJtRGF0YUJ0biAgPSAkKCcjcm0tZHMnKTtcbiAgdmFyICRvcHRpb25zQ29udGFpbmVyID0gJCgnI3N3aXRjaC1vcHRpb25zJyk7XG5cbiAgLy8gVGhlIHR5cGUgb2YgY2hhcnQgY2xpY2tlZCBhbmQgZGlzcGxheSBvbiB0aGUgdXNlciBzY3JlZW5cbiAgdmFyICRjaGFydFR5cGVDbGlja2VkID0gXCJcIjtcblxuICAvL1RoaXMgaXMgdGhlIGZpcnN0IGRhdGEgdGVtcGxhdGUgZm9yIExpbmUsIEJhciwgUmFkYXIgY2hhcnRzXG5cdHZhciB0ZW1wbGF0ZURhdGEgPSB7XG5cdCAgICBsYWJlbHM6IFsnbGFiZWwxJywgJ2xhYmVsMicsICdsYWJlbDMnLCAnbGFiZWw0JywgJ2xhYmVsNScsICdsYWJlbDYnXSxcblx0ICAgIGRhdGFzZXRzOiBbXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgbGFiZWw6ICcnLFxuICAgICAgICAgICAgZmlsbENvbG9yOiBcInJnYmEoMjIwLDIyMCwyMjAsMC4yKVwiLFxuICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IFwicmdiYSgyMjAsMjIwLDIyMCwxKVwiLFxuICAgICAgICAgICAgcG9pbnRDb2xvcjogXCJyZ2JhKDIyMCwyMjAsMjIwLDEpXCIsXG4gICAgICAgICAgICBwb2ludFN0cm9rZUNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogXCIjMmVjYzcxXCIsXG4gICAgICAgICAgICBwb2ludEhpZ2hsaWdodFN0cm9rZTogXCJyZ2JhKDIyMCwyMjAsMjIwLDEpXCIsXG4gICAgICAgICAgICBkYXRhOiBbXVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgICAgICBmaWxsQ29sb3I6IFwicmdiYSgxNTEsMTg3LDIwNSwwLjIpXCIsXG4gICAgICAgICAgICBzdHJva2VDb2xvcjogXCJyZ2JhKDE1MSwxODcsMjA1LDEpXCIsXG4gICAgICAgICAgICBwb2ludENvbG9yOiBcInJnYmEoMTUxLDE4NywyMDUsMSlcIixcbiAgICAgICAgICAgIHBvaW50U3Ryb2tlQ29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRGaWxsOiBcIiMyZWNjNzFcIixcbiAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0U3Ryb2tlOiBcInJnYmEoMTUxLDE4NywyMDUsMSlcIixcbiAgICAgICAgICAgIGRhdGE6IFtdXG5cdCAgICAgICAgfVxuXHQgICAgXVxuXHR9O1xuICAvL25vdGU6IHRlbXBsYXRlRGF0YVsnZGF0YXNldHMnXVtpXVsnZGF0YSddIC8vdGVtcGxhdGVEYXRhWydsYWJlbHMnXTtcblxuICAvLyBUaGlzIGlzIHRoZSBzZWNvbmQgdHlwZSBvZiBkYXRhIHRlbXBsYXRlIGZvciBQaWUsIERvbnV0LCBhbmQgUG9sYXIgY2hhcnRzXG4gIHZhciB0ZW1wbGF0ZURhdGEyID0gW1xuICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGNvbG9yOlwiXCIsXG4gICAgICAgIGhpZ2hsaWdodDogXCJcIixcbiAgICAgICAgbGFiZWw6IFwiXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGNvbG9yOlwiXCIsXG4gICAgICAgIGhpZ2hsaWdodDogXCJcIixcbiAgICAgICAgbGFiZWw6IFwiXCJcbiAgICB9XG4gIF07XG5cblx0Ly9NYXN0ZXIgb3B0aW9ucyB0ZW1wbGF0ZSBmb3IgYWxsIHRoZSBjaGFydHMgdHlwZXMgdXNlIHRoaXMgb2JqZWN0XG5cdHZhciB0ZW1wbGF0ZU9wdGlvbnMgPSB7fTtcblxuICAvKiBIZWxwZXIgRnVuY3Rpb25zICovXG5cbiAgZnVuY3Rpb24gaXNOdW1iZXIobikge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gIH1cblxuICAvLyBkZXRlcm1pbmVzIHdoYXQgdHlwZTEgY2hhcnQgZGF0YXNldCBpcyB0aGUgbG9uZ2VzdCBsZW5ndGhcbiAgZnVuY3Rpb24gcHJlcEF1dG9MYWJlbHMoKSB7XG4gICAgdmFyIGRjQXJyID0gJCgnI2RhdGFzZXRzIC5mb3JtLWNvbnRyb2wnKTtcblxuICAgICQuZWFjaChkY0FyciwgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcbiAgICAgIHZhciBpdGVtQXJyID0gaXRlbS52YWx1ZS5zcGxpdCgnLCcpO1xuICAgICAgaWYgKCBpdGVtQXJyLmxlbmd0aCA+IGxvbmdlc3RBcnIgKSB7XG4gICAgICAgIGxvbmdlc3RBcnIgPSBpdGVtQXJyLmxlbmd0aDtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnbG9uZ2VzdCBsZW4gc28gZmFyIGlzOiAnKyBsb25nZXN0QXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBnZW5lcmF0ZXMgYSBzZXQgb2YgYXV0byBsYWJlbHMgYmFzZWQgb24gdGhlIGxvbmdlc3QgZGF0ZXNldFxuICAgICAgYXV0b0xhYmVscyA9IGRlZmF1bHRMYWJlbHMuc2xpY2UoMCwgbG9uZ2VzdEFycik7XG4gIH1cblxuICAvLyBjaGFydCBlcnJvciBoYW5kbGluZywgcHJldHR5IGJhc2ljIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIHByaW50RXJyb3JNZXNzYWdlcyhlcnJvciwgdmlldykge1xuICAgIHZhciBlcnJvclRleHQgPSBlcnJvck1lc3NhZ2VzWycnKyBlcnJvcl07XG4gICAgJCgnLmVycm9yLW1lc3NhZ2UnKyB2aWV3KS50ZXh0KGVycm9yVGV4dCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpOyBjb25zb2xlLmxvZygneWVzIScpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XG4gICAgJCgnLmVycm9yLW1lc3NhZ2UxJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICQoJy5lcnJvci1tZXNzYWdlMicpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgfVxuXG4gIC8vIGNoYW5nZXMgdGhlIHRpdGxlIHRleHRcbiAgZnVuY3Rpb24gY2hhbmdlVGl0bGUodHlwZSkge1xuICAgIHZhciAkdGl0bGUgPSAkKCcudHlwZS10aXRsZScpO1xuICAgICR0aXRsZS5odG1sKHR5cGUpO1xuICB9XG5cblxuXG4gIC8qIEFwcCBDb3JlIEZ1bmN0aW9uIEZsb3dcbiAgI1xuICAqL1xuXG5cdGZ1bmN0aW9uIGFwcEluaXQoKSB7XG4gICAgbW9iaWxlTmF2KCk7XG4gICAgY29sb3JTZWxlY3RvcigpO1xuICAgIGluaXRpYWxSZW5kZXIoKTtcbiAgICBldmVudEJpbmRpbmdzKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0aWFsUmVuZGVyKCkge1xuXHRcdG5ld0NoYXJ0ID0gbmV3IENoYXJ0KGN0eCkuTGluZSh0ZW1wbGF0ZURhdGEsIHRlbXBsYXRlT3B0aW9ucyk7XG5cdH1cblxuICBmdW5jdGlvbiBldmVudEJpbmRpbmdzKCkge1xuICAgIC8vYmluZHMgZXZlbnQgaGFuZGxlcnMsIG1haW5seSB0aGUgc3VibWl0IGJ1dHRvbi5cbiAgICAkc3VibWl0RGF0YS5vbignY2xpY2snLCByZW5kZXJPblN1Ym1pdCk7XG4gICAgJCgnI3N1Ym1pdC1kYXRhMicpLm9uKCdjbGljaycsIHJlbmRlck9uU3VibWl0KTtcblxuICAgIC8vYWRkIGRzLCByZW1vdmUgZHMgZXZlbnRzXG4gICAgJGFkZERhdGFCdG4ub24oJ2NsaWNrJywgYWRkRGF0YVNldCk7XG4gICAgJHJtRGF0YUJ0bi5vbignY2xpY2snLCByZW1vdmVEYXRhU2V0KTtcblxuICAgIC8vY2hhcnR0eXBlIHN3aXRjaCBldmVudCBiaW5kaW5nc1xuICAgICQoJ3NwYW4uY2hhcnQtdHlwZScpLm9uKCdjbGljaycsIGNoYXJ0VHlwZUNvbnRyb2xsZXIpO1xuICAgICQoJ3NlbGVjdCNtb2JpbGUtbmF2Jykub24oJ2NoYW5nZScsIG1vYmlsZUNoYXJ0Q3RybCk7XG5cbiAgICAvL2NoYXJ0eXBlMiBhZGQgcmVtb3ZlIGJpbmRpbmdcbiAgICAkKCcjYWRkLXNsaWNlJykub24oJ2NsaWNrJywgYWRkU2xpY2UpO1xuICAgICQoJyNybS1zbGljZScpLm9uKCdjbGljaycsIHJlbW92ZVNsaWNlKTtcblxuICB9XG5cbiAgLy8gTWFrZXMgdGhlIHNlbGVjdCBtb2JpbGUgbmF2aWdhdGlvbiBhbmQgYXBwZW5kcyB0byB0aGUgcGFnZVxuICBmdW5jdGlvbiBtb2JpbGVOYXYoKSB7XG5cbiAgICAkKCc8c2VsZWN0IC8+Jywge1xuICAgICAgXCJpZFwiOiBcIm1vYmlsZS1uYXZcIlxuICAgIH0pLnByZXBlbmRUbygnI3R5cGUtc2VsZWN0Jyk7XG5cbiAgICAkKCdzcGFuLmNoYXJ0LXR5cGUgYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJGVsID0gJCh0aGlzKTtcbiAgICAgICQoJzxvcHRpb24gLz4nLCB7XG4gICAgICAgIFwidmFsdWVcIjogJGVsLmF0dHIoXCJocmVmXCIpLFxuICAgICAgICBcInRleHRcIiA6ICRlbC50ZXh0KClcbiAgICAgIH0pLmFwcGVuZFRvKCcjdHlwZS1zZWxlY3Qgc2VsZWN0Jyk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICAqIGZuIHRvIGNoYW5nZWQgdGhlIHZpZXcgZGVwZW5kaW5nIG9uIHdoYXQgY2hhcnQgdHlwZSBpcyBwaWNrZWRcbiAgKi9cbiAgZnVuY3Rpb24gY2hhcnRUeXBlQ29udHJvbGxlcihlLCBtdCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciAkZWwgPSAkKHRoaXMpO1xuICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgIGlmICggd2luZG93V2lkdGggPiA2MDAgKSB7XG4gICAgICBjb25zb2xlLmxvZygkd2luZG93LndpZHRoKCkpO1xuICAgICAgdmFyICRjaGFydFR5cGVDbGlja2VkID0gJGVsLmF0dHIoJ2RhdGEtdHlwZScpLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gIC8vIElucHV0IGxhYmVscyBjb250cm9sbGVyXG4gICAgaWYgKCRjaGFydFR5cGVDbGlja2VkID09PSAnbGluZScgIHx8XG4gICAgICAgICRjaGFydFR5cGVDbGlja2VkID09PSAnYmFyJyAgIHx8XG4gICAgICAgICRjaGFydFR5cGVDbGlja2VkID09PSAncmFkYXInIHx8XG4gICAgICAgIG10ID09PSAnTGluZScgfHxcbiAgICAgICAgbXQgPT09ICdCYXInICB8fFxuICAgICAgICBtdCA9PT0gJ1JhZGFyJyApXG4gICAge1xuICAgICAgJHZpZXcyLmFkZENsYXNzKCd0eXBlLWhpZGRlbicpO1xuICAgICAgJHZpZXcxLnJlbW92ZUNsYXNzKCd0eXBlLWhpZGRlbicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICR2aWV3Mi5yZW1vdmVDbGFzcygndHlwZS1oaWRkZW4nKTtcbiAgICAgICR2aWV3MS5hZGRDbGFzcygndHlwZS1oaWRkZW4nKTtcbiAgICAgIC8vIFJlbW92ZXMgYWxsIGFkZGVkIGRhdGFzZXRzIG9uIGNoYXJ0IHZpZXcgY2hhbmdlc1xuICAgICAgdmFyIG51bVNldHNBZGRlZCA9IHRlbXBsYXRlRGF0YS5kYXRhc2V0cy5sZW5ndGggLSAyO1xuICAgICAgZm9yICh2YXIgaSA9IG51bVNldHNBZGRlZDsgaSA+IDA7IC0taSkge1xuICAgICAgICByZW1vdmVEYXRhU2V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9jbGVhciB0aGUgb3B0aW9ucyBtb2R1bGVcbiAgICAkKCdkaXYjc3dpdGNoLW9wdGlvbnMnKS5lbXB0eSgpO1xuXG4gICAgLy9jaGFuZ2UgdGhlIG9wdGlvbiBwYW5lbCB2aWV3Li4uXG4gICAgaWYgKCRjaGFydFR5cGVDbGlja2VkID09PSAnbGluZScgfHwgbXQgPT09ICdMaW5lJykge1xuICAgICAgY2hhbmdlVGl0bGUoJ0xpbmUgR3JhcGgnKTtcblxuICAgICAgb3B0aW9uc0FyciA9IFtcbiAgICAgICAge29wdGlvbk5hbWU6ICdzY2FsZVNob3dHcmlkTGluZXMnLCBvcHRpb25UZXh0OiAnZ3JpZGxpbmVzJywgY2hlY2tlZDogdHJ1ZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnYmV6aWVyQ3VydmUnLCBvcHRpb25UZXh0OiAnYmV6aWVyIGN1cnZlcycsIGNoZWNrZWQ6IHRydWV9LFxuICAgICAgICB7b3B0aW9uTmFtZTogJ2RhdGFzZXRGaWxsJywgb3B0aW9uVGV4dDogJ2NvbG9yIGZpbGwnLCBjaGVja2VkOiB0cnVlfSxcbiAgICAgICAge29wdGlvbk5hbWU6ICdwb2ludERvdCcsIG9wdGlvblRleHQ6ICdncmlkIGRvdHMnLCBjaGVja2VkOiB0cnVlfVxuICAgICAgXTtcbiAgICAgIHdyaXRlT3B0aW9ucygpO1xuICAgIH1cbiAgICBlbHNlIGlmICgkY2hhcnRUeXBlQ2xpY2tlZCA9PT0gJ2JhcicgfHwgbXQgPT09ICdCYXInKSB7XG4gICAgICBjaGFuZ2VUaXRsZSgnQmFyIEdyYXBoJyk7XG5cbiAgICAgIG9wdGlvbnNBcnIgPSBbXG4gICAgICAgIHtvcHRpb25OYW1lOiAnc2NhbGVTaG93R3JpZExpbmVzJywgb3B0aW9uVGV4dDogJ2dyaWRsaW5lcycsIGNoZWNrZWQ6IHRydWV9LFxuICAgICAgICB7b3B0aW9uTmFtZTogJ3NjYWxlQmVnaW5BdFplcm8nLCBvcHRpb25UZXh0OiAnc2NhbGUgemVybycsIGNoZWNrZWQ6IHRydWV9XG4gICAgICBdO1xuICAgICAgd3JpdGVPcHRpb25zKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCRjaGFydFR5cGVDbGlja2VkID09PSAncmFkYXInIHx8IG10ID09PSAnUmFkYXInKSB7XG4gICAgICBjaGFuZ2VUaXRsZSgnUmFkYXIgR3JhcGgnKTtcblxuICAgICAgb3B0aW9uc0FyciA9IFtcbiAgICAgICAge29wdGlvbk5hbWU6ICdzY2FsZVNob3dMaW5lJywgb3B0aW9uVGV4dDogJ3NjYWxlIGxpbmVzJywgY2hlY2tlZDogdHJ1ZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnYW5nbGVTaG93TGluZU91dCcsIG9wdGlvblRleHQ6ICdhbmdsZSBsaW5lcycsIGNoZWNrZWQ6IHRydWV9LFxuICAgICAgICB7b3B0aW9uTmFtZTogJ3NjYWxlU2hvd0xhYmVscycsIG9wdGlvblRleHQ6ICdzY2FsZSBsYWJlbHMnLCBjaGVja2VkOiB0cnVlfSxcbiAgICAgICAge29wdGlvbk5hbWU6ICdwb2ludERvdCcsIG9wdGlvblRleHQ6ICdkb3QgcG9pbnRzJywgY2hlY2tlZDogdHJ1ZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnZGF0YXNldFN0cm9rZScsIG9wdGlvblRleHQ6ICdkYXRhc2V0IHN0cm9rZXMnLCBjaGVja2VkOiB0cnVlfSxcbiAgICAgICAge29wdGlvbk5hbWU6ICdkYXRhc2V0RmlsbCcsIG9wdGlvblRleHQ6ICdkYXRhc2V0IGZpbGwnLCBjaGVja2VkOiB0cnVlfVxuICAgICAgXTtcbiAgICAgIHdyaXRlT3B0aW9ucygpO1xuICAgIH1cbiAgICBlbHNlIGlmICgkY2hhcnRUeXBlQ2xpY2tlZCA9PT0gXCJwaWVcIiB8fCBtdCA9PT0gXCJQaWVcIiB8fFxuICAgICAgICAgICAgICAkY2hhcnRUeXBlQ2xpY2tlZCA9PT0gXCJkb251dFwiIHx8IG10ID09PSBcIkRvdWdobnV0XCIpXG4gICAge1xuICAgICAgaWYgKCRjaGFydFR5cGVDbGlja2VkID09PSBcInBpZVwiIHx8IG10ID09PSBcIlBpZVwiKSB7XG4gICAgICAgIGNoYW5nZVRpdGxlKCdQaWUgR3JhcGgnKTtcbiAgICAgIH1cbiAgICAgIGlmICgkY2hhcnRUeXBlQ2xpY2tlZCA9PT0gXCJkb251dFwiIHx8IG10ID09PSBcIkRvdWdobnV0XCIpIHsgY2hhbmdlVGl0bGUoJ0RvdWdobnV0IEdyYXBoJyk7IH1cblxuICAgICAgb3B0aW9uc0FyciA9IFtcbiAgICAgICAge29wdGlvbk5hbWU6ICdzZWdtZW50U2hvd1N0cm9rZScsIG9wdGlvblRleHQ6ICdzZWdtZW50IHN0cm9rZScsIGNoZWNrZWQ6IHRydWV9LFxuICAgICAgICB7b3B0aW9uTmFtZTogJ2FuaW1hdGVSb3RhdGUnLCBvcHRpb25UZXh0OiAnYW5pbWF0ZSByb3RhdGUnLCBjaGVja2VkOiBmYWxzZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnYW5pbWF0ZVNjYWxlJywgb3B0aW9uVGV4dDogJ2FuaW1hdGUgc2NhbGUnLCBjaGVja2VkOiBmYWxzZX1cbiAgICAgIF07XG4gICAgICB3cml0ZU9wdGlvbnMoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjaGFuZ2VUaXRsZSgnUG9sYXIgR3JhcGgnKTtcblxuICAgICAgb3B0aW9uc0FyciA9IFtcbiAgICAgICAge29wdGlvbk5hbWU6ICdzY2FsZVNob3dMYWJlbEJhY2tkcm9wJywgb3B0aW9uVGV4dDogJ3NjYWxlIGJhY2tkcm9wJywgY2hlY2tlZDogdHJ1ZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnc2NhbGVCZWdpbkF0WmVybycsIG9wdGlvblRleHQ6ICdzY2FsZSB6ZXJvJywgY2hlY2tlZDogdHJ1ZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnc2NhbGVTaG93TGluZScsIG9wdGlvblRleHQ6ICdzY2FsZSBsaW5lJywgY2hlY2tlZDogdHJ1ZX0sXG4gICAgICAgIHtvcHRpb25OYW1lOiAnc2VnbWVudFNob3dTdHJva2UnLCBvcHRpb25UZXh0OiAnc2VnbWVudCBzdHJva2UnLCBjaGVja2VkOiB0cnVlfSxcbiAgICAgICAge29wdGlvbk5hbWU6ICdhbmltYXRlUm90YXRlJywgb3B0aW9uVGV4dDogJ2FuaW1hdGUgcm90YXRlJywgY2hlY2tlZDogZmFsc2V9LFxuICAgICAgICB7b3B0aW9uTmFtZTogJ2FuaW1hdGVTY2FsZScsIG9wdGlvblRleHQ6ICdhbmltYXRlIHNjYWxlJywgY2hlY2tlZDogZmFsc2V9XG4gICAgICBdO1xuICAgICAgd3JpdGVPcHRpb25zKCk7XG4gICAgfVxuXG4gICAgLy8gc2V0cyB0aGUgY2hhcnQgdHlwZSB0aGUgY29ycmVjdCBvbmVcbiAgICBpZiAoJGNoYXJ0VHlwZUNsaWNrZWQgPT09IFwicG9sYXJcIiB8fCBtdCA9PT0gXCJQb2xhclwiKSB7XG4gICAgICBncmFwaHR5cGUgPSBcIlBvbGFyQXJlYVwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGdyYXBodHlwZSA9ICRlbC50ZXh0KCkudG9TdHJpbmcoKSB8fCBtdDtcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZygnY3VycmVudCBncmFwaCB0eXBlIGlzICcrIGdyYXBodHlwZSk7XG4gIH1cblxuICBmdW5jdGlvbiBtb2JpbGVDaGFydEN0cmwoKSB7XG4gICAgdmFyIG1vYmlsZVR5cGUgPSAkKCdzZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpO1xuICAgIGNoYXJ0VHlwZUNvbnRyb2xsZXIobW9iaWxlVHlwZSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZU9wdGlvbnMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zQXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAkKCc8aW5wdXQ+PC9pbnB1dD4nKS5hdHRyKHtcbiAgICAgICAgJ2NsYXNzJzogJ3N3aXRjaCcsXG4gICAgICAgICdpZCcgICA6IG9wdGlvbnNBcnJbaV0ub3B0aW9uTmFtZSxcbiAgICAgICAgJ3R5cGUnIDogJ2NoZWNrYm94J1xuICAgICAgfSkucHJvcCgnY2hlY2tlZCcsIG9wdGlvbnNBcnJbaV0uY2hlY2tlZCkuYXBwZW5kVG8oJG9wdGlvbnNDb250YWluZXIpO1xuICAgICAgJCgnPGxhYmVsPjwvbGFiZWw+JykuYXR0cih7XG4gICAgICAgIFwiY2xhc3NcIjogXCJzd2l0Y2hcIixcbiAgICAgICAgXCJmb3JcIiAgOiBvcHRpb25zQXJyW2ldLm9wdGlvbk5hbWUsXG4gICAgICB9KS50ZXh0KG9wdGlvbnNBcnJbaV0ub3B0aW9uVGV4dCkuYXBwZW5kVG8oJG9wdGlvbnNDb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbG9yU2VsZWN0b3IoKSB7XG4gIFx0JChcIi5jb2xvci1zZWxlY3RcIikuc3BlY3RydW0oe1xuICBcdCAgICBzaG93UGFsZXR0ZU9ubHk6IHRydWUsXG4gIFx0ICAgIHNob3dQYWxldHRlOnRydWUsXG4gIFx0ICAgIGNvbG9yOidyZ2JhKDI1NSwgMjU1LCAyNTUsIC41KScsXG4gIFx0ICAgIHBhbGV0dGU6IFtcbiAgXHQgICAgICAgIFsncmdiYSg1NywgMTA2LCAxNzcsIDEpJyxcbiAgICAgICAgICAgICdyZ2JhKDIxOCwgMTI0LCA0OCwgMSknLFxuICAgICAgICAgICAgJ3JnYmEoNjIsIDE1MCwgODEsIDEpJyxcbiAgXHQgICAgICAgICdyZ2JhKDIwNCwgMzcsIDQxLCAxKScsXG4gICAgICAgICAgICAncmdiYSg4MywgODEsIDg0LCAxKScsXG4gICAgICAgICAgICAncmdiYSgxMDcsIDc2LCAxNTQsIDEpJyxcbiAgICAgICAgICAgICdyZ2JhKDE0NiwgMzYsIDQwLCAxKScsXG4gICAgICAgICAgICAncmdiYSgxNDgsIDEzOSwgNjEsIDEpJ10sXG5cbiAgICAgICAgICBbJ3JnYmEoMTAyLDE5NCwxNjUsIDEpJyxcbiAgICAgICAgICAncmdiYSgyNTIsMTQxLDk4LCAxKScsXG4gICAgICAgICAgJ3JnYmEoMTQxLDE2MCwyMDMsIDEpJyxcbiAgICAgICAgICAncmdiYSgyMzEsMTM4LDE5NSwgMSknLFxuICAgICAgICAgICdyZ2IoMTY2LDIxNiw4NCwgMSknLFxuICAgICAgICAgICdyZ2JhKDI1NSwyMTcsNDcsIDEpJyxcbiAgICAgICAgICAncmdiYSgyMjksMTk2LDE0OCwgMSknLFxuICAgICAgICAgICdyZ2JhKDE3OSwxNzksMTc5LCAxKSddXG4gIFx0ICAgIF1cbiAgXHR9KTtcbiAgICAgICQoJy5jb2xvci1zZWxlY3QnKS5yZW1vdmVDbGFzcygnY29sb3Itc2VsZWN0JykuYWRkQ2xhc3MoJ2NvbG9yLWluaXRpYWxpemUnKTtcbiAgfVxuXG5cdGZ1bmN0aW9uIHJlbmRlck9uU3VibWl0KCkge1xuICAgIC8vYXR0ZW1wdHMgdG8gY2xlYXIgdGhlIGNhbnZhcyBhcyB0aGVyZSBhcmUgbWFueSBnbGl0Y2hlcyBvbiByZXBlYXRlZCByZW5kZXJpbmdcbiAgXHRjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgIGlmIChuZXdDaGFydCkge1xuICAgIG5ld0NoYXJ0LmNsZWFyKCkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vY2xlYXIgZXJyb3IgbWVzc2FnZXMgZnJvbSBwcmV2aW91cyByb3VuZHNcbiAgICBjbGVhckVycm9ycygpO1xuXG4gICAgLy9wcmVwYXJlIGF1dG8gbGFiZWxzIGlmIHRoZSBmaWVsZCBpcyBlbXB0eVxuICAgIHByZXBBdXRvTGFiZWxzKCk7XG5cbiAgICAvL3NldCB0aGUgY2hhcnQgZGF0YSB0byBuZXcgdmFsdWVzIGFuZCByZS1yZW5kZXJzIHRoZSBjYW52YXNcbiAgICAvL3NldENoYXJ0RGF0YSgpO1xuICAgIGdyYXBodHlwZSA9PT0gXCJMaW5lXCJ8fFxuICAgIGdyYXBodHlwZSA9PT0gXCJCYXJcInx8XG4gICAgZ3JhcGh0eXBlID09PSBcIlJhZGFyXCIgPyBzZXRDaGFydERhdGEoKSA6IHNldENoYXJ0RGF0YTIoKTtcblxuICAgIGlmIChncmFwaHR5cGUgPT09IFwiTGluZVwiIHx8IFwiQmFyXCIgfHwgXCJSYWRhclwiKSB7XG4gICAgICAvL25ld0NoYXJ0LmNsZWFyKCkuZGVzdHJveSgpO1xuXHRcdCAgbmV3Q2hhcnQgPSBuZXcgQ2hhcnQoY3R4KVtncmFwaHR5cGVdKCB0ZW1wbGF0ZURhdGEsIHRlbXBsYXRlT3B0aW9ucyApO1xuICAgIH1cbiAgICBpZiAoZ3JhcGh0eXBlID09PSBcIlBpZVwiIHx8IFwiRG9udXRcIiB8fCBcIlBvbGFyQXJlYVwiKSB7XG4gICAgICAvL25ld0NoYXJ0LmNsZWFyKCkuZGVzdHJveSgpO1xuXHRcdCAgbmV3Q2hhcnQgPSBuZXcgQ2hhcnQoY3R4KVtncmFwaHR5cGVdKCB0ZW1wbGF0ZURhdGEyLCB0ZW1wbGF0ZU9wdGlvbnMgKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZXRzIHRoZSBtYWluIGRhdGEgdmFsdWVzIGZvciByZW5kZXJPblN1Ym1pdFxuXHRmdW5jdGlvbiBzZXRDaGFydERhdGEoKSB7XG4gICAgLyogQWN0aW9uIFBsYW5cbiAgICAgKlxuICAgICovXG4gICAgY29uc29sZS5sb2coJ3NldHRpbmcgY2hhcnQgdHlwZSAxJyk7XG4gICAgLy9zZXRzIHRoZSBjb2xvciBvZiBlYWNoIGRhdGFzZXQgdG8gdGhlIHVzZXIgY2hvc2VuIGNvbG9yXG4gICAgICB2YXIgJHNlbGVjdGVkQ29sb3JzID0gJCgnI3R5cGV2aWV3MSAuY29sb3ItaW5pdGlhbGl6ZScpO1xuXG4gICAgICAkLmVhY2goJHNlbGVjdGVkQ29sb3JzLCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xuICAgICAgICB2YXIgdHRlbXAgPSBpdGVtLnZhbHVlO1xuICAgICAgLy8gdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNvbG9yIGlzIG5vdCBzZXRcbiAgICAgICAgaWYgKHR0ZW1wID09PSBcIlwiKSB7XG4gICAgICAgICAgcHJpbnRFcnJvck1lc3NhZ2VzKCdjb2xvcicsIDEpO1xuICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKCdlcnJvciBpbnB1dCcpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgLy8gc2V0cyB0aGUgY29sb3IgZGF0YSBpbiB0aGUgdGVtcGxhdGUgb2JqZWN0XG4gICAgICAgIHRlbXBsYXRlRGF0YS5kYXRhc2V0c1tpbmRleF0uc3Ryb2tlQ29sb3IgPSB0dGVtcDtcbiAgICAgICAgdGVtcGxhdGVEYXRhLmRhdGFzZXRzW2luZGV4XS5wb2ludENvbG9yID0gdHRlbXA7XG4gICAgICAgIHRlbXBsYXRlRGF0YS5kYXRhc2V0c1tpbmRleF0ucG9pbnRIaWdobGlnaHRTdHJva2UgPSB0dGVtcDtcbiAgICAgIC8vIGxpZ2h0ZW5zIHRoZSBjb2xvciBmb3IgdGhlIGZpbGxcbiAgICAgICAgdHRlbXAgPSAncmdiYScrIHR0ZW1wLnNsaWNlKDMsIHR0ZW1wLmxlbmd0aCAtIDEpICsgJywgMC4yKSc7XG4gICAgICAgIHRlbXBsYXRlRGF0YS5kYXRhc2V0c1tpbmRleF0uZmlsbENvbG9yID0gdHRlbXA7XG4gICAgICB9KTtcblxuICAgIC8vIGdyYWJzIHRoZSB1c2VyIGVudGVyZWQgbGFiZWxzIGFuZCBtb2RpZmllcyB0aGUgdGVtcGxhdGVEYXRhIG9iamVjdFxuICAgICAgdmFyIHhsYWJlbHNBcnIgID0gJHhsYWJlbHMudmFsKCkuc3BsaXQoXCIsXCIpO1xuICAgICAgY29uc29sZS5sb2coeGxhYmVsc0Fyci5sZW5ndGgrIFwiIFwiKyBsb25nZXN0QXJyKTtcblxuICAgICAgaWYgKCAkeGxhYmVscy52YWwoKSA9PT0gXCJcIiB8fCB4bGFiZWxzQXJyLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnd3JpdGluZyBhdXRvbGFiZWxzIGludG8gZGF0YSBvYmplY3QnKTtcbiAgICAgICAgdGVtcGxhdGVEYXRhLmxhYmVscyA9IGF1dG9MYWJlbHM7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICggeGxhYmVsc0Fyci5sZW5ndGggPCBsb25nZXN0QXJyICYmIHhsYWJlbHNBcnIubGVuZ3RoICE9PSAwICkge1xuICAgICAgICBwcmludEVycm9yTWVzc2FnZXMoJ2xhYmVsJywgMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoJ2Vycm9yOiBub3QgZW5vdWdoIGxhYmVscycpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlRGF0YS5sYWJlbHMgPSB4bGFiZWxzQXJyO1xuICAgICAgfVxuXG4gICAgLy8gZ2V0IHRoZSBkYXRhc2V0IGlucHV0cyBhbmQgbW9kaWZpZXMgdGhlIHRlbXBsYXRlT2JqZWN0IGZvciBlYWNoIHVzZXIgaW5wdXRcbiAgICAgIHZhciBkY0FyciA9ICQoJyNkYXRhc2V0cyAuZm9ybS1jb250cm9sJyk7XG4gICAgICAkLmVhY2goZGNBcnIsIGZ1bmN0aW9uKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHZhciBjdXJJdGVtID0gKGl0ZW0udmFsdWUpLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSwgMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL21ha2luZyBzdXJlIGFsbCBpdGVtcyBhcmUgbnVtZXJpY2FsOlxuICAgICAgICBjdXJJdGVtLmZvckVhY2goZnVuY3Rpb24oZWwsIGksIGFycikge1xuICAgICAgICAgIGlmKCAhKGlzTnVtYmVyKGVsKSkgKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGkrICcgbm90IGEgbnVtYmVyJyk7XG4gICAgICAgICAgICBwcmludEVycm9yTWVzc2FnZXMoJ3dyb25nJywgMSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dCBmb3JtYXQgZXJyb3IhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBsYXRlRGF0YS5kYXRhc2V0c1tpbmRleF0uZGF0YSA9IGN1ckl0ZW07XG4gICAgICB9KTtcblxuICAgICAgLy9zZXR0aW5nIHVwIHRoZSBvcHRpb25zIGZvciBlYWNoIGdyYXBoIHR5cGUuXG4gICAgICBzZXRPcHRpb25zKCk7XG5cdH1cblxuICBmdW5jdGlvbiBzZXRDaGFydERhdGEyKCkge1xuXG4gICAgY29uc29sZS5sb2coJ3NldHRpbmcgY2hhcnQgdHlwZSAyJyk7XG5cbiAgICB2YXIgJHNsaWNlcyA9ICQoJy5kYXRhLXNsaWNlcycpO1xuICAgIC8vdmFyICRjb2xvcnMgPSAkKCcjdHlwZXZpZXcxIC5jb2xvci1pbml0aWFsaXplJyk7XG5cbiAgICAkLmVhY2goJHNsaWNlcywgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcbiAgICAgIHZhciBsYWJlbFZhbCA9ICQoaXRlbSkuZmluZCgnLmxhYmVscycpLnZhbCgpO1xuICAgICAgdmFyIGRhdGFWYWwgPSAkKGl0ZW0pLmZpbmQoJy5zbGljZS1kYXRhJykudmFsKCk7XG4gICAgICB2YXIgY29sb3JWYWwgPSAkKGl0ZW0pLmZpbmQoJy5jb2xvci1pbml0aWFsaXplJykudmFsKCkudG9TdHJpbmcoKTtcblxuICAgICAgaWYgKGxhYmVsVmFsID09PSBcIlwiIHx8IGRhdGFWYWwgPT09IFwiXCIpIHtcbiAgICAgICAgcHJpbnRFcnJvck1lc3NhZ2VzKCdlbXB0eScsIDIpO1xuICAgICAgICAvL3Rocm93IG5ldyBFcnJvcignZmllbGRzIGVtcHR5Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xvclZhbCA9PT0gXCJcIikge1xuICAgICAgICBwcmludEVycm9yTWVzc2FnZXMoJ2NvbG9yJywgMik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGVtcGxhdGVEYXRhMltpbmRleF0udmFsdWUgPSBwYXJzZUludChkYXRhVmFsKTtcbiAgICAgIHRlbXBsYXRlRGF0YTJbaW5kZXhdLmNvbG9yID0gY29sb3JWYWw7XG4gICAgICB0ZW1wbGF0ZURhdGEyW2luZGV4XS5oaWdobGlnaHQgPSBjb2xvclZhbDtcbiAgICAgIHRlbXBsYXRlRGF0YTJbaW5kZXhdLmxhYmVsID0gbGFiZWxWYWw7XG5cbiAgICAgIC8vY29uc29sZS5sb2codGVtcGxhdGVEYXRhMik7XG4gICAgfSk7XG5cbiAgICBzZXRPcHRpb25zKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRPcHRpb25zKCkge1xuXG4gIC8vQ2hhcnR0eXBlIExpbmUgb3B0aW9uc1xuICAgIGN1cnJlbnRQYWdlT3B0aW9ucyA9ICQoJ1t0eXBlPWNoZWNrYm94XScpO1xuXG4gICAgJC5lYWNoKGN1cnJlbnRQYWdlT3B0aW9ucywgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcbiAgICAgIGNvbnNvbGUubG9nKCBpdGVtLmlkICk7XG4gICAgICB0ZW1wbGF0ZU9wdGlvbnNbaXRlbS5pZF0gPSBpdGVtLmNoZWNrZWQ7XG4gICAgICBjb25zb2xlLmxvZyggaXRlbS5jaGVja2VkICk7XG4gICAgfSk7XG4gIH1cblxuLy9hZGQgZGF0YSBzbGljZSBmb3IgcGllLCBkb3VnaG51dCwgcG9sYXJcbiAgZnVuY3Rpb24gYWRkU2xpY2UoZXZ0KSB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5ld1NsaWNlID0ge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgY29sb3I6XCJcIixcbiAgICAgICAgaGlnaGxpZ2h0OiBcIlwiLFxuICAgICAgICBsYWJlbDogXCJcIlxuICAgIH07XG4gICAgaWYodGVtcGxhdGVEYXRhMi5sZW5ndGggPiAxMikge1xuICAgICAgY29uc29sZS5sb2coJ2xpbWl0IHJlYWNoZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0ZW1wbGF0ZURhdGEyLnB1c2gobmV3U2xpY2UpO1xuICAgICAgY29uc29sZS5sb2codGVtcGxhdGVEYXRhMi5sZW5ndGgpO1xuXG4gICAgICAvL2FkZGluZyB0aGUgaHRtbCBlbGVtZW50cyB0byB0aGUgcGFnZVxuICAgICAgdmFyICRkaXYgPSAkKCc8ZGl2PicsIHtjbGFzczogXCJjb250YWluZXIgZGF0YS1zbGljZXMgY29sLTZcIn0pO1xuICAgICAgdmFyICRpbnB1dExhYmVsID0gJCgnPGlucHV0PicsIHtjbGFzczogXCJsYWJlbHMgY29sLTEwXCIsIHR5cGU6IFwidGV4dFwifSk7XG4gICAgICB2YXIgJGlucHV0RGF0YSA9ICQoJzxpbnB1dD4nLCB7Y2xhc3M6IFwic2xpY2UtZGF0YSBjb2wtMTBcIiwgdHlwZTogXCJudW1iZXJcIn0pO1xuICAgICAgdmFyICRjb2xvciA9ICQoJzxpbnB1dD4nLCB7Y2xhc3M6IFwiY29sb3Itc2VsZWN0IGNvbG9yMlwifSk7XG5cbiAgICAgICRkaXYuYXBwZW5kKCRpbnB1dExhYmVsKS5hcHBlbmQoJGlucHV0RGF0YSkuYXBwZW5kKCRjb2xvcik7XG4gICAgICAkKCcuZGF0YS1zbGljZXMnKS5sYXN0KCkuYWZ0ZXIoJGRpdik7XG4gICAgICBjb2xvclNlbGVjdG9yKCk7XG4gICAgfVxuICAgIGRhdGFMaW5rc1N0eWxlMigpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlU2xpY2UoZXZ0KSB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYodGVtcGxhdGVEYXRhMi5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGVtcGxhdGVEYXRhMi5wb3AoKTsgY29uc29sZS5sb2codGVtcGxhdGVEYXRhMi5sZW5ndGgpO1xuICAgICAgJCgnLmRhdGEtc2xpY2VzJykubGFzdCgpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBkYXRhTGlua3NTdHlsZTIoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gYWRkRGF0YVNldChldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZHNBcnIgPSB0ZW1wbGF0ZURhdGEuZGF0YXNldHM7XG4gICAgdmFyIG5ld0RTID0ge1xuICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgICBmaWxsQ29sb3I6IFwicmdiYSgyMjAsMjIwLDIyMCwwLjIpXCIsXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6IFwicmdiYSgyMjAsMjIwLDIyMCwxKVwiLFxuICAgICAgICAgIHBvaW50Q29sb3I6IFwicmdiYSgyMjAsMjIwLDIyMCwxKVwiLFxuICAgICAgICAgIHBvaW50U3Ryb2tlQ29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogXCIjZmZmXCIsXG4gICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2U6IFwicmdiYSgyMjAsMjIwLDIyMCwxKVwiLFxuICAgICAgICAgIGRhdGE6IFtdXG4gICAgfTtcbiAgICAvL2lmIHRoZSBudW1iZXIgb2YgZGF0YXNldHMgaXMgZ3JlYXRlciB0aGFuIGRhdGFzZXRzQWxsb3dlZCwgY2FuIG5vdCBhZGRcbiAgICBpZihkc0Fyci5sZW5ndGggPj0gQ29uZmlnRGVmYXVsdHMuZGF0YXNldHNBbGxvd2VkKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdkYXRhc2V0IGxpbWl0IHJlYWNoZWQsIGNhbiBub3QgYWRkIGFub3RoZXIgc2V0JysgZHNBcnIubGVuZ3RoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvL2Vsc2UgYWRkIGEgbmV3IGRhdGEgb2JqZWN0IGF0IHRoZSBlbmQgb2YgZGF0YXNldHMgb2JqZWN0XG4gICAgZWxzZSB7XG4gICAgICBkc0Fyci5wdXNoKG5ld0RTKTtcbiAgICAgIC8vTm93IGFwcGVuZCB0aGUgaHRtbCBlbGVtZW50IHRvIHRoZSBwYWdlIHRvIGFsbG93IHVzZXIgZW50cnlcbiAgICAgIHZhciAkZGF0YUlucHV0RGl2ID0gJCgnPGRpdj4nLCB7aWQ6XCJcIiwgY2xhc3M6IFwiY29udGFpbmVyIGFmXCJ9KTtcbiAgICAgIHZhciAkZGF0YUlucHV0RWwgPSAkKCc8aW5wdXQgLz4nLCB7aWQ6IFwiXCIsIGNsYXNzOiBcImZvcm0tY29udHJvbCBhZGRlZC1pbnB1dHNcIn0pO1xuICAgICAgdmFyICRkYXRhQ29sb3JTZWxlY3QgPSAkKCc8aW5wdXQ+Jywge2NsYXNzOiBcImNvbG9yLXNlbGVjdCBjb2xvcjFcIn0pO1xuXG4gICAgICAkZGF0YUlucHV0RGl2LmFwcGVuZCgkZGF0YUlucHV0RWwpLmFwcGVuZCgkZGF0YUNvbG9yU2VsZWN0KTtcbiAgICAgICRkYXRhc2V0cy5hcHBlbmQoJGRhdGFJbnB1dERpdik7XG4gICAgICBjb2xvclNlbGVjdG9yKCk7XG4gICAgfVxuICAgIGRhdGFMaW5rc1N0eWxlKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVEYXRhU2V0KGV2dCkge1xuICAgIGlmIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICB2YXIgZHNBcnIgPSB0ZW1wbGF0ZURhdGEuZGF0YXNldHM7XG5cbiAgICBpZihkc0Fyci5sZW5ndGggPD0gMikge1xuICAgICAgLy9jb25zb2xlLmxvZygnbXVzdCBoYXZlIGF0IGxlYXN0IHR3byBkYXRhc2V0cycrIGRzQXJyLmxlbmd0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZHNBcnIucG9wKCk7XG4gICAgICAvL1JlbW92ZSB0aGUgaHRtbCBpbnB1dCBlbGVtZW50XG4gICAgICB2YXIgJGxhc3REYXRhSW5wdXRzID0gJCgnI2RhdGFzZXRzIGRpdi5jb250YWluZXInKS5sYXN0KCk7XG4gICAgICAkbGFzdERhdGFJbnB1dHMucmVtb3ZlKCk7XG4gICAgfVxuICAgIGRhdGFMaW5rc1N0eWxlKCk7XG4gIH1cblxuICAvL3RvZ2dsZXMgaGlkZSBhbmQgc2hvdyBvZiBybSwgYWRkIGxpbmtzIGFjY29yZGluZ2x5XG4gIGZ1bmN0aW9uIGRhdGFMaW5rc1N0eWxlKCkge1xuICAgIHZhciB0ZW1wcCA9IHRlbXBsYXRlRGF0YS5kYXRhc2V0cztcbiAgICAvLzMsIDQsIDUsIDYgYm90aCBzaG93XG4gICAgaWYodGVtcHAubGVuZ3RoID4gMiAmJiB0ZW1wcC5sZW5ndGggPCA5KSB7XG4gICAgICAkcm1EYXRhQnRuLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICRhZGREYXRhQnRuLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgaWYodGVtcHAubGVuZ3RoID09PSAyKSB7ICRybURhdGFCdG4uYWRkQ2xhc3MoJ2hpZGRlbicpOyB9XG4gICAgaWYodGVtcHAubGVuZ3RoID09PSA5KSB7ICRhZGREYXRhQnRuLmFkZENsYXNzKCdoaWRkZW4nKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGF0YUxpbmtzU3R5bGUyKCkge1xuICAgIHZhciAkcm1TbGljZSA9ICQoJyNybS1zbGljZScpLFxuICAgICAgICAkYWRkU2xpY2UgPSAkKCcjYWRkLXNsaWNlJyk7XG5cbiAgICB2YXIgdGVtcHAgPSB0ZW1wbGF0ZURhdGEyO1xuICAgIC8vIGZyb20gMiAtIDEyLCBib3RoIHNob3dcbiAgICBpZih0ZW1wcC5sZW5ndGggPiAyICYmIHRlbXBwLmxlbmd0aCA8IDEzKSB7XG4gICAgICAkcm1TbGljZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAkYWRkU2xpY2UucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBpZih0ZW1wcC5sZW5ndGggPT09IDIpIHsgJHJtU2xpY2UuYWRkQ2xhc3MoJ2hpZGRlbicpOyB9XG4gICAgaWYodGVtcHAubGVuZ3RoID09PSAxMikgeyAkYWRkU2xpY2UuYWRkQ2xhc3MoJ2hpZGRlbicpOyB9XG4gIH1cblxuICAvLyBDb252ZXJ0cyBjYW52YXMgdG8gYW4gaW1hZ2VcbiAgZnVuY3Rpb24gY2FudmFzVG9JbWFnZSgpIHtcbiAgICAgIHZhciBncmFwaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZW5lcmF0ZWQtY2hhcnQnKTtcbiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1hZ2Uuc3JjID0gZ3JhcGgudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuXG4gICAgICB2YXIgJGRvd25sb2FkID0gJCgnPGEgZG93bmxvYWQ9XCJzaW1wbGVjaGFydC5wbmdcIj48L2E+Jyk7XG4gICAgICAkZG93bmxvYWQuYXR0cignaHJlZicsIGltYWdlLnNyYyk7XG4gICAgICAkZG93bmxvYWQuYXBwZW5kKGltYWdlKTtcblxuICAgICAgJCgnI2dyYXBoLW91dHB1dCcpLmVtcHR5KCkuYXBwZW5kKCRkb3dubG9hZCk7XG4gIH1cblxuXHQvL0luaXRpYXRlcyB0aGUgaW5pdGlhbCBpbnN0YW5jZSBvZiB0aGUgYXBwbGljYXRpb24sIGV2ZW50IGJpbmRpbmdzLCBlY3QuLlxuXHRhcHBJbml0KCk7XG5cblx0cmV0dXJuIHtcblx0XHQvLyBBbnkgbWV0aG9kcyB0byBiZSByZXR1cm5lZCBmb3IgcHVibGljIGNvbnN1bXB0aW9uIGJ5IG90aGVyIHBhcnRzIG9mIHRoZSBBcHBcblxuXHR9O1xuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
